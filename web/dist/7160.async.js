(self.webpackChunk=self.webpackChunk||[]).push([[7160],{29098:function($){(function(s,n){$.exports=n()})(this,function(){return function(v){var s={};function n(e){if(s[e])return s[e].exports;var L=s[e]={exports:{},id:e,loaded:!1};return v[e].call(L.exports,L,L.exports,n),L.loaded=!0,L.exports}return n.m=v,n.c=s,n.p="",n(0)}([function(v,s,n){var e;e=function(L){return{clustering:n(1),regression:n(5),statistics:n(6),histogram:n(15),transform:{regression:n(18),histogram:n(21),clustering:n(22)}}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(2),P=g.dataPreprocess,E=g.normalizeDimensions,l=n(3),r=n(4),m=l.size,D=l.sumOfColumn,t=l.sum,x=l.zeros,r=n(4),o=r.isNumber,u=Math.pow,a={SINGLE:"single",MULTIPLE:"multiple"};function f(M,N,y){for(var F=x(M.length,2),I=p(N,C(M,y.dimensions)),A=!0,U,T,R,z;A;){A=!1;for(var S=0;S<M.length;S++){U=1/0,T=-1;for(var W=0;W<N;W++)R=d(M[S],I[W],y),R<U&&(U=R,T=W);F[S][0]!==T&&(A=!0),F[S][0]=T,F[S][1]=U}for(var S=0;S<N;S++){z=[];for(var W=0;W<F.length;W++)F[W][0]===S&&z.push(M[W]);I[S]=c(z,y)}}var J={centroids:I,clusterAssigned:F};return J}function c(M,N){for(var y=[],F,I,A=0;A<N.dimensions.length;A++){var U=N.dimensions[A];F=0;for(var T=0;T<M.length;T++)F+=M[T][U];I=F/M.length,y.push(I)}return y}function i(M,N,y){var F=(o(N)?{clusterCount:N,stepByStep:y}:N)||{clusterCount:2},I=F.clusterCount;if(I<2)return;var A=K(M,F),U=A.outputType===a.SINGLE,T=P(M,{dimensions:A.dimensions}),R=x(T.length,2),z,S,W;function J(O,H){R[O][1]=H}function X(O){return R[O][1]}if(U){z=[];var nr=A.outputClusterIndexDimension;S=function(O,H){z[O][nr]=H},W=function(O){return z[O][nr]};for(var V=0;V<T.length;V++)z.push(T[V].slice()),J(V,0),S(V,0)}else S=function(O,H){R[O][0]=H},W=function(O){return R[O][0]};for(var tr=c(T,A),Q=[tr],V=0;V<T.length;V++){var ir=d(T[V],tr,A);J(V,ir)}var q,w,j,Z,k,_,er=1,G={data:z,centroids:Q,isEnd:!1};U||(G.clusterAssment=R);function ar(){if(er<I){q=1/0;for(var O,H,b,Y=0;Y<Q.length;Y++){w=[],j=[];for(var B=0;B<T.length;B++)W(B)===Y?w.push(T[B]):j.push(X(B));Z=f(w,2,A),k=D(Z.clusterAssigned,1),_=t(j),k+_<q&&(q=_+k,O=Y,H=Z.centroids,b=Z.clusterAssigned)}for(var B=0;B<b.length;B++)b[B][0]===0?b[B][0]=O:b[B][0]===1&&(b[B][0]=Q.length);Q[O]=H[0],Q.push(H[1]);for(var B=0,Y=0;B<T.length&&Y<b.length;B++)W(B)===O&&(S(B,b[Y][0]),J(B,b[Y++][1]));var rr=[];if(!U){for(var B=0;B<Q.length;B++){rr[B]=[];for(var Y=0;Y<T.length;Y++)W(Y)===B&&rr[B].push(T[Y])}G.pointsInCluster=rr}er++}else G.isEnd=!0}if(F.stepByStep)G.next=function(){return ar(),h(G,A),G};else for(;ar(),!G.isEnd;);return h(G,A),G}function h(M,N){var y=N.outputCentroidDimensions;if(!(N.outputType!==a.SINGLE||y==null))for(var F=M.data,I=M.centroids,A=0;A<F.length;A++)for(var U=F[A],T=U[N.outputClusterIndexDimension],R=I[T],z=Math.min(R.length,y.length),S=0;S<z;S++)U[y[S]]=R[S]}function p(M,N){for(var y=x(M,N.length),F=0;F<N.length;F++)for(var I=N[F],A=0;A<M;A++)y[A][F]=I.min+I.span*Math.random();return y}function d(M,N,y){for(var F=0,I=y.dimensions,A=y.rawExtents,U=0;U<I.length;U++){var T=A[U].span;if(T){var R=I[U],z=(M[R]-N[U])/T;F+=u(z,2)}}return F}function K(M,N){var y=m(M);if(y.length<1)throw new Error("The input data of clustering should be two-dimension array.");for(var F=y[1],I=[],A=0;A<F;A++)I.push(A);var U=E(N.dimensions,I),T=N.outputType||a.MULTIPLE,R=N.outputClusterIndexDimension;if(T===a.SINGLE&&!r.isNumber(R))throw new Error("outputClusterIndexDimension is required as a number.");var z=C(M,U);return{dimensions:U,rawExtents:z,outputType:T,outputClusterIndexDimension:R,outputCentroidDimensions:N.outputCentroidDimensions}}function C(M,N){for(var y=[],F=N.length,I=0;I<F;I++)y.push({min:1/0,max:-1/0});for(var I=0;I<M.length;I++)for(var A=M[I],U=0;U<F;U++){var T=y[U],R=A[N[U]];T.min>R&&(T.min=R),T.max<R&&(T.max=R)}for(var I=0;I<F;I++)y[I].span=y[I].max-y[I].min;return y}return{OutputType:a,hierarchicalKMeans:i}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(3),P=g.isArray,E=g.size,l=n(4),m=l.isNumber;function D(r,o){return typeof r=="number"?[r]:r==null?o:r}function t(r,o){o=o||{};var u=o.dimensions,a={};if(u!=null)for(var f=0;f<u.length;f++)a[u[f]]=!0;var c=o.toOneDimensionArray?u?u[0]:0:null;function i(M){return!u||a.hasOwnProperty(M)}if(!P(r))throw new Error("Invalid data type, you should input an array");var h=[],p=E(r);if(p.length===1)for(var f=0;f<p[0];f++){var d=r[f];m(d)&&h.push(d)}else if(p.length===2)for(var f=0;f<p[0];f++){for(var K=!0,d=r[f],C=0;C<p[1];C++)i(C)&&!m(d[C])&&(K=!1);K&&h.push(c!=null?d[c]:d)}return h}function x(r){var o=r.toString(),u=o.indexOf(".");return u<0?0:o.length-1-u}return{normalizeDimensions:D,dataPreprocess:t,getPrecision:x}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=Object.prototype.toString,P=Array.prototype,E=P.map;function l(a){for(var f=[];m(a);)f.push(a.length),a=a[0];return f}function m(a){return g.call(a)==="[object Array]"}function D(a,f){for(var c=[],i=0;i<a;i++){c[i]=[];for(var h=0;h<f;h++)c[i][h]=0}return c}function t(a){for(var f=0,c=0;c<a.length;c++)f+=a[c];return f}function x(a,f){for(var c=0,i=0;i<a.length;i++)c+=a[i][f];return c}function r(a,f){return a>f?1:a<f?-1:a===f?0:NaN}function o(a,f,c,i){for(c==null&&(c=0),i==null&&(i=a.length);c<i;){var h=Math.floor((c+i)/2),p=r(a[h],f);if(p>0)i=h;else if(p<0)c=h+1;else return h+1}return c}function u(a,f,c){if(a&&f){if(a.map&&a.map===E)return a.map(f,c);for(var i=[],h=0,p=a.length;h<p;h++)i.push(f.call(c,a[h],h,a));return i}}return{size:l,isArray:m,zeros:D,sum:t,sumOfColumn:x,ascending:r,bisect:o,map:u}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){function g(l){return l=l===null?NaN:+l,typeof l=="number"&&!isNaN(l)}function P(l){return isFinite(l)&&l===Math.round(l)}function E(l){if(l===0)return 0;var m=Math.floor(Math.log(l)/Math.LN10);return l/Math.pow(10,m)>=10&&m++,m}return{isNumber:g,isInteger:P,quantityExponent:E}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(2),P=g.dataPreprocess,E=g.normalizeDimensions,l={linear:function(t,x){for(var r=x.dimensions[0],o=x.dimensions[1],u=0,a=0,f=0,c=0,i=t.length,h=0;h<i;h++){var p=t[h];u+=p[r],a+=p[o],f+=p[r]*p[o],c+=p[r]*p[r]}for(var d=(i*f-u*a)/(i*c-u*u),K=a/i-d*u/i,C=[],M=0;M<t.length;M++){var p=t[M],N=p.slice();N[r]=p[r],N[o]=d*p[r]+K,C.push(N)}var y="y = "+Math.round(d*100)/100+"x + "+Math.round(K*100)/100;return{points:C,parameter:{gradient:d,intercept:K},expression:y}},linearThroughOrigin:function(t,x){for(var r=x.dimensions[0],o=x.dimensions[1],u=0,a=0,f=0;f<t.length;f++){var c=t[f];u+=c[r]*c[r],a+=c[r]*c[o]}for(var i=a/u,h=[],p=0;p<t.length;p++){var c=t[p],d=c.slice();d[r]=c[r],d[o]=c[r]*i,h.push(d)}var K="y = "+Math.round(i*100)/100+"x";return{points:h,parameter:{gradient:i},expression:K}},exponential:function(t,x){for(var r=x.dimensions[0],o=x.dimensions[1],u=0,a=0,f=0,c=0,i=0,h=0,p=0;p<t.length;p++){var d=t[p];u+=d[r],a+=d[o],h+=d[r]*d[o],f+=d[r]*d[r]*d[o],c+=d[o]*Math.log(d[o]),i+=d[r]*d[o]*Math.log(d[o])}for(var K=a*f-h*h,C=Math.pow(Math.E,(f*c-h*i)/K),M=(a*i-h*c)/K,N=[],y=0;y<t.length;y++){var d=t[y],F=d.slice();F[r]=d[r],F[o]=C*Math.pow(Math.E,M*d[r]),N.push(F)}var I="y = "+Math.round(C*100)/100+"e^("+Math.round(M*100)/100+"x)";return{points:N,parameter:{coefficient:C,index:M},expression:I}},logarithmic:function(t,x){for(var r=x.dimensions[0],o=x.dimensions[1],u=0,a=0,f=0,c=0,i=0;i<t.length;i++){var h=t[i];u+=Math.log(h[r]),a+=h[o]*Math.log(h[r]),f+=h[o],c+=Math.pow(Math.log(h[r]),2)}for(var p=(i*a-f*u)/(i*c-u*u),d=(f-p*u)/i,K=[],C=0;C<t.length;C++){var h=t[C],M=h.slice();M[r]=h[r],M[o]=p*Math.log(h[r])+d,K.push(M)}var N="y = "+Math.round(d*100)/100+" + "+Math.round(p*100)/100+"ln(x)";return{points:K,parameter:{gradient:p,intercept:d},expression:N}},polynomial:function(t,x){var r=x.dimensions[0],o=x.dimensions[1],u=x.order;u==null&&(u=2);for(var a=[],f=[],c=u+1,i=0;i<c;i++){for(var h=0,p=0;p<t.length;p++){var d=t[p];h+=d[o]*Math.pow(d[r],i)}f.push(h);for(var K=[],C=0;C<c;C++){for(var M=0,N=0;N<t.length;N++)M+=Math.pow(t[N][r],i+C);K.push(M)}a.push(K)}a.push(f);for(var y=m(a,c),F=[],i=0;i<t.length;i++){for(var I=0,d=t[i],p=0;p<y.length;p++)I+=y[p]*Math.pow(d[r],p);var A=d.slice();A[r]=d[r],A[o]=I,F.push(A)}for(var U="y = ",i=y.length-1;i>=0;i--)i>1?U+=Math.round(y[i]*Math.pow(10,i+1))/Math.pow(10,i+1)+"x^"+i+" + ":i===1?U+=Math.round(y[i]*100)/100+"x + ":U+=Math.round(y[i]*100)/100;return{points:F,parameter:y,expression:U}}};function m(t,x){for(var r=0;r<t.length-1;r++){for(var o=r,u=r+1;u<t.length-1;u++)Math.abs(t[r][u])>Math.abs(t[r][o])&&(o=u);for(var a=r;a<t.length;a++){var f=t[a][r];t[a][r]=t[a][o],t[a][o]=f}for(var c=r+1;c<t.length-1;c++)for(var i=t.length-1;i>=r;i--)t[i][c]-=t[i][r]/t[r][r]*t[r][c]}for(var h=new Array(x),p=t.length-1,u=t.length-2;u>=0;u--){for(var f=0,r=u+1;r<t.length-1;r++)f+=t[r][u]*h[r];h[u]=(t[p][u]-f)/t[u][u]}return h}var D=function(t,x,r){var o=typeof r=="number"?{order:r}:r||{},u=E(o.dimensions,[0,1]),a=P(x,{dimensions:u}),f=l[t](a,{order:o.order,dimensions:u}),c=u[0];return f.points.sort(function(i,h){return i[c]-h[c]}),f};return D}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g={};return g.max=n(7),g.deviation=n(8),g.mean=n(10),g.median=n(12),g.min=n(14),g.quantile=n(13),g.sampleVariance=n(9),g.sum=n(11),g}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(4),P=g.isNumber;function E(l){for(var m=-1/0,D=0;D<l.length;D++)P(l[D])&&l[D]>m&&(m=l[D]);return m}return E}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(9);return function(P){var E=g(P);return E&&Math.sqrt(E)}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(4),P=g.isNumber,E=n(10);function l(m){var D=m.length;if(!D||D<2)return 0;if(m.length>=2){for(var t=E(m),x=0,r,o=0;o<m.length;o++)P(m[o])&&(r=m[o]-t,x+=r*r);return x/(m.length-1)}}return l}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(11);function P(E){var l=E.length;return l?g(E)/E.length:0}return P}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(4),P=g.isNumber;function E(l){var m=l.length;if(!m)return 0;for(var D=0,t=0;t<m;t++)P(l[t])&&(D+=l[t]);return D}return E}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(13);function P(E){return g(E,.5)}return P}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){return function(g,P){var E=g.length;if(!E)return 0;if(P<=0||E<2)return g[0];if(P>=1)return g[E-1];var l=(E-1)*P,m=Math.floor(l),D=g[m],t=g[m+1];return D+(t-D)*(l-m)}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(4),P=g.isNumber;function E(l){for(var m=1/0,D=0;D<l.length;D++)P(l[D])&&l[D]<m&&(m=l[D]);return m}return E}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(7),P=n(14),E=n(13),l=n(8),m=n(2),D=m.dataPreprocess,t=m.normalizeDimensions,x=n(3),r=x.ascending,o=x.map,u=n(16),a=x.bisect,f=n(17);function c(W,p){for(var d=typeof p=="string"?{method:p}:p||{},K=d.method==null?i.squareRoot:i[d.method],C=t(d.dimensions),M=D(W,{dimensions:C,toOneDimensionArray:!0}),N=g(M),y=P(M),F=K(M,y,N),I=f(y,N,F),A=I.step,U=I.toFixedPrecision,T=u(+(Math.ceil(y/A)*A).toFixed(U),+(Math.floor(N/A)*A).toFixed(U),A,U),R=T.length,z=new Array(R+1),S=0;S<=R;S++)z[S]={},z[S].sample=[],z[S].x0=S>0?T[S-1]:T[S]-y===A?y:T[S]-A,z[S].x1=S<R?T[S]:N-T[S-1]===A?N:T[S-1]+A;for(var S=0;S<M.length;S++)y<=M[S]&&M[S]<=N&&z[a(T,M[S],0,R)].sample.push(M[S]);var W=o(z,function(X){return[+((X.x0+X.x1)/2).toFixed(U),X.sample.length,X.x0,X.x1,X.x0+" - "+X.x1]}),J=o(z,function(X){return[X.x0,X.x1,X.sample.length]});return{bins:z,data:W,customData:J}}var i={squareRoot:function(h){var p=Math.ceil(Math.sqrt(h.length));return p>50?50:p},scott:function(h,p,d){return Math.ceil((d-p)/(3.5*l(h)*Math.pow(h.length,-1/3)))},freedmanDiaconis:function(h,p,d){return h.sort(r),Math.ceil((d-p)/(2*(E(h,.75)-E(h,.25))*Math.pow(h.length,-1/3)))},sturges:function(h){return Math.ceil(Math.log(h.length)/Math.LN2)+1}};return c}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(2),P=g.getPrecision;return function(E,l,m,D){var t=arguments.length;t<2?(l=E,E=0,m=1):t<3?m=1:t<4?(m=+m,D=P(m)):D=+D;for(var x=Math.ceil(((l-E)/m).toFixed(D)),r=new Array(x+1),o=0;o<x+1;o++)r[o]=+(E+o*m).toFixed(D);return r}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(4);return function(P,E,l){var m=Math.abs(E-P)/l,D=g.quantityExponent(m),t=Math.pow(10,D),x=m/t;x>=Math.sqrt(50)?t*=10:x>=Math.sqrt(10)?t*=5:x>=Math.sqrt(2)&&(t*=2);var r=D<0?-D:0,o=+(E>=P?t:-t).toFixed(r);return{step:o,toFixedPrecision:r}}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(5),P=n(19),E=2;return{type:"ecStat:regression",transform:function(m){var D=m.upstream,t=m.config||{},x=t.method||"linear",r=g(x,D.cloneRawData(),{order:t.order,dimensions:P.normalizeExistingDimensions(m,t.dimensions)}),o=r.points,u=t.formulaOn;u==null&&(u="end");var a;if(u!=="none"){for(var f=0;f<o.length;f++)o[f][E]=u==="start"&&f===0||u==="all"||u==="end"&&f===o.length-1?r.expression:"";a=D.cloneAllDimensionInfo(),a[E]={}}return[{dimensions:a,data:o}]}}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(3),P=n(4),E=n(20);function l(D,t){if(t==null)return;var x=D.upstream;if(g.isArray(t)){for(var r=[],o=0;o<t.length;o++){var u=x.getDimensionInfo(t[o]);a(u,t[o]),r[o]=u.index}return r}else{var u=x.getDimensionInfo(t);return a(u,t),u.index}function a(f,c){if(!f)throw new Error("Can not find dimension by "+c)}}function m(D){if(g.isArray(D)){for(var t=[],x=[],r=0;r<D.length;r++){var o=u(D[r]);t.push(o.name),x.push(o.index)}return{name:t,index:x}}else if(D!=null)return u(D);function u(a){if(P.isNumber(a))return{index:a};if(E.isObject(a)&&P.isNumber(a.index))return a;throw new Error("Illegle new dimensions config. Expect `{ name: string, index: number }`.")}}return{normalizeExistingDimensions:l,normalizeNewDimensions:m}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){function g(E,l){if(Object.assign)Object.assign(E,l);else for(var m in l)l.hasOwnProperty(m)&&(E[m]=l[m]);return E}function P(E){const l=typeof E;return l==="function"||!!E&&l==="object"}return{extend:g,isObject:P}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(15),P=n(19);return{type:"ecStat:histogram",transform:function(l){var m=l.upstream,D=l.config||{},t=g(m.cloneRawData(),{method:D.method,dimensions:P.normalizeExistingDimensions(l,D.dimensions)});return[{dimensions:["MeanOfV0V1","VCount","V0","V1","DisplayableName"],data:t.data},{data:t.customData}]}}}.call(s,n,s,v),e!==void 0&&(v.exports=e)},function(v,s,n){var e;e=function(L){var g=n(1),P=n(4),E=n(19),l=P.isNumber;return{type:"ecStat:clustering",transform:function(D){var t=D.upstream,x=D.config||{},r=x.clusterCount;if(!l(r)||r<=0)throw new Error('config param "clusterCount" need to be specified as an interger greater than 1.');if(r===1)return[{},{data:[]}];var o=E.normalizeNewDimensions(x.outputClusterIndexDimension),u=E.normalizeNewDimensions(x.outputCentroidDimensions);if(o==null)throw new Error("outputClusterIndexDimension is required as a number.");for(var a=g.hierarchicalKMeans(t.cloneRawData(),{clusterCount:r,stepByStep:!1,dimensions:E.normalizeExistingDimensions(D,x.dimensions),outputType:g.OutputType.SINGLE,outputClusterIndexDimension:o.index,outputCentroidDimensions:(u||{}).index}),f=t.cloneAllDimensionInfo(),c=[],i=0;i<f.length;i++){var h=f[i];c.push(h.name)}if(c[o.index]=o.name,u)for(var i=0;i<u.index.length;i++)u.name[i]!=null&&(c[u.index[i]]=u.name[i]);return[{dimensions:c,data:a.data},{data:a.centroids}]}}}.call(s,n,s,v),e!==void 0&&(v.exports=e)}])})},87160:function($,v,s){$.exports=s(29098)}}]);
