(self.webpackChunk=self.webpackChunk||[]).push([[2214],{42214:function(xt,zt,St){(function(ct,U){xt.exports=U(St(46703))})(self,function(dt){return(()=>{"use strict";var ct={"./index.js":(L,V,vt)=>{vt.r(V);var P=vt("echarts/lib/echarts");P.extendSeriesModel({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(s){return{fill:s.get("color")}},visualDrawType:"fill",optionUpdated:function(){var s=this.option;s.gridSize=Math.max(Math.floor(s.gridSize),4)},getInitialData:function(s,o){var r=P.helper.createDimensions(s.data,{coordDimensions:["value"]}),l=new P.List(r,this);return l.initData(s.data),l},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}}),P.extendChartView({type:"wordCloud",render:function(s,o,r){var l=this.group;l.removeAll();var t=s.getData(),x=s.get("gridSize");s.layoutInstance.ondraw=function(h,a,M,O){var B=t.getItemModel(M),H=B.getModel("textStyle"),b=new P.graphic.Text({style:P.helper.createTextStyle(H),scaleX:1/O.info.mu,scaleY:1/O.info.mu,x:(O.gx+O.info.gw/2)*x,y:(O.gy+O.info.gh/2)*x,rotation:O.rot});b.setStyle({x:O.info.fillTextOffsetX,y:O.info.fillTextOffsetY+a*.5,text:h,verticalAlign:"middle",fill:t.getItemVisual(M,"style").fill,fontSize:a}),l.add(b),t.setItemGraphicEl(M,b),b.ensureState("emphasis").style=P.helper.createTextStyle(B.getModel(["emphasis","textStyle"]),{state:"emphasis"}),b.ensureState("blur").style=P.helper.createTextStyle(B.getModel(["blur","textStyle"]),{state:"blur"}),P.helper.enableHoverEmphasis(b,B.get(["emphasis","focus"]),B.get(["emphasis","blurScope"])),b.stateTransition={duration:s.get("animation")?s.get(["stateAnimation","duration"]):0,easing:s.get(["stateAnimation","easing"])},b.__highDownDispatcher=!0},this._model=s},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var r=[void 0],l="zero-timeout-message",t=function(h){var a=r.length;return r.push(h),window.postMessage(l+a.toString(36),"*"),a};return window.addEventListener("message",function(h){if(!(typeof h.data!="string"||h.data.substr(0,l.length)!==l)){h.stopImmediatePropagation();var a=parseInt(h.data.substr(l.length),36);r[a]&&(r[a](),r[a]=void 0)}},!0),window.clearImmediate=function(h){r[h]&&(r[h]=void 0)},t}()||function(r){window.setTimeout(r,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(r){window.clearTimeout(r)}}());var tt=function(){var o=document.createElement("canvas");if(!o||!o.getContext)return!1;var r=o.getContext("2d");return!(!r||!r.getImageData||!r.fillText||!Array.prototype.some||!Array.prototype.push)}(),et=function(){if(tt){for(var o=document.createElement("canvas").getContext("2d"),r=20,l,t;r;){if(o.font=r.toString(10)+"px sans-serif",o.measureText("\uFF37").width===l&&o.measureText("m").width===t)return r+1;l=o.measureText("\uFF37").width,t=o.measureText("m").width,r--}return 0}}(),Tt=function(s){if(Array.isArray(s)){var o=s.slice();return o.splice(0,2),o}else return[]},Mt=function(o){for(var r,l,t=o.length;t;)r=Math.floor(Math.random()*t),l=o[--t],o[t]=o[r],o[r]=l;return o},j={},at=function(o,r){if(!tt)return;var l=Math.floor(Math.random()*Date.now());Array.isArray(o)||(o=[o]),o.forEach(function(g,e){if(typeof g=="string"){if(o[e]=document.getElementById(g),!o[e])throw new Error("The element id specified is not found.")}else if(!g.tagName&&!g.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(r)for(var x in r)x in t&&(t[x]=r[x]);if(typeof t.weightFactor!="function"){var h=t.weightFactor;t.weightFactor=function(e){return e*h}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(e){return 1-Math.sin(e)};break;case"diamond":t.shape=function(e){var i=e%(2*Math.PI/4);return 1/(Math.cos(i)+Math.sin(i))};break;case"square":t.shape=function(e){return Math.min(1/Math.abs(Math.cos(e)),1/Math.abs(Math.sin(e)))};break;case"triangle-forward":t.shape=function(e){var i=e%(2*Math.PI/3);return 1/(Math.cos(i)+Math.sqrt(3)*Math.sin(i))};break;case"triangle":case"triangle-upright":t.shape=function(e){var i=(e+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(i)+Math.sqrt(3)*Math.sin(i))};break;case"pentagon":t.shape=function(e){var i=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(i)+.726543*Math.sin(i))};break;case"star":t.shape=function(e){var i=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-i)+3.07768*Math.sin(2*Math.PI/10-i)):1/(Math.cos(i)+3.07768*Math.sin(i))};break}t.gridSize=Math.max(Math.floor(t.gridSize),4);var a=t.gridSize,M=a-t.maskGapWidth,O=Math.abs(t.maxRotation-t.minRotation),B=Math.min(t.maxRotation,t.minRotation),H=t.rotationStep,b,I,F,G,A,D,q;function mt(g,e){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(e-g)+g).toFixed()+"%)"}switch(t.color){case"random-dark":q=function(){return mt(10,50)};break;case"random-light":q=function(){return mt(50,90)};break;default:typeof t.color=="function"&&(q=t.color);break}var J;typeof t.fontWeight=="function"&&(J=t.fontWeight);var rt=null;typeof t.classes=="function"&&(rt=t.classes);var it=!1,Q=[],nt,wt=function(e){var i=e.currentTarget,n=i.getBoundingClientRect(),u,f;e.touches?(u=e.touches[0].clientX,f=e.touches[0].clientY):(u=e.clientX,f=e.clientY);var w=u-n.left,c=f-n.top,m=Math.floor(w*(i.width/n.width||1)/a),S=Math.floor(c*(i.height/n.height||1)/a);return Q[m]?Q[m][S]:null},pt=function(e){var i=wt(e);if(nt!==i){if(nt=i,!i){t.hover(void 0,void 0,e);return}t.hover(i.item,i.dimension,e)}},ot=function(e){var i=wt(e);i&&(t.click(i.item,i.dimension,e),e.preventDefault())},lt=[],kt=function(e){if(lt[e])return lt[e];var i=e*8,n=i,u=[];for(e===0&&u.push([G[0],G[1],0]);n--;){var f=1;t.shape!=="circle"&&(f=t.shape(n/i*2*Math.PI)),u.push([G[0]+e*f*Math.cos(-n/i*2*Math.PI),G[1]+e*f*Math.sin(-n/i*2*Math.PI)*t.ellipticity,n/i*2*Math.PI])}return lt[e]=u,u},ft=function(){return t.abortThreshold>0&&new Date().getTime()-D>t.abortThreshold},Ct=function(){return t.rotateRatio===0||Math.random()>t.rotateRatio?0:O===0?B:B+Math.round(Math.random()*O/H)*H},Et=function(e,i,n,u){var f=!1,w=t.weightFactor(i);if(w<=t.minSize)return!1;var c=1;w<et&&(c=function(){for(var ht=2;ht*w<et;)ht+=2;return ht}());var m;J?m=J(e,i,w,u):m=t.fontWeight;var S=document.createElement("canvas"),d=S.getContext("2d",{willReadFrequently:!0});d.font=m+" "+(w*c).toString(10)+"px "+t.fontFamily;var y=d.measureText(e).width/c,p=Math.max(w*c,d.measureText("m").width,d.measureText("\uFF37").width)/c,k=y+p*2,R=p*3,_=Math.ceil(k/a),C=Math.ceil(R/a);k=_*a,R=C*a;var v=-y/2,T=-p*.4,E=Math.ceil((k*Math.abs(Math.sin(n))+R*Math.abs(Math.cos(n)))/a),z=Math.ceil((k*Math.abs(Math.cos(n))+R*Math.abs(Math.sin(n)))/a),Z=z*a,N=E*a;S.setAttribute("width",Z),S.setAttribute("height",N),f&&(document.body.appendChild(S),d.save()),d.scale(1/c,1/c),d.translate(Z*c/2,N*c/2),d.rotate(-n),d.font=m+" "+(w*c).toString(10)+"px "+t.fontFamily,d.fillStyle="#000",d.textBaseline="middle",d.fillText(e,v*c,(T+w*.5)*c);var _t=d.getImageData(0,0,Z,N).data;if(ft())return!1;f&&(d.strokeRect(v*c,T,y*c,p*c),d.restore());for(var yt=[],Y=z,X,st,ut,W=[E/2,z/2,E/2,z/2];Y--;)for(X=E;X--;){ut=a;t:for(;ut--;)for(st=a;st--;)if(_t[((X*a+ut)*Z+(Y*a+st))*4+3]){yt.push([Y,X]),Y<W[3]&&(W[3]=Y),Y>W[1]&&(W[1]=Y),X<W[0]&&(W[0]=X),X>W[2]&&(W[2]=X),f&&(d.fillStyle="rgba(255, 0, 0, 0.5)",d.fillRect(Y*a,X*a,a-.5,a-.5));break t}f&&(d.fillStyle="rgba(0, 0, 255, 0.5)",d.fillRect(Y*a,X*a,a-.5,a-.5))}return f&&(d.fillStyle="rgba(0, 255, 0, 0.5)",d.fillRect(W[3]*a,W[0]*a,(W[1]-W[3]+1)*a,(W[2]-W[0]+1)*a)),{mu:c,occupied:yt,bounds:W,gw:z,gh:E,fillTextOffsetX:v,fillTextOffsetY:T,fillTextWidth:y,fillTextHeight:p,fontSize:w}},Ft=function(e,i,n,u,f){for(var w=f.length;w--;){var c=e+f[w][0],m=i+f[w][1];if(c>=I||m>=F||c<0||m<0){if(!t.drawOutOfBound)return!1;continue}if(!b[c][m])return!1}return!0},At=function(e,i,n,u,f,w,c,m,S,d){var y=n.fontSize,p;q?p=q(u,f,y,w,c,d):p=t.color;var k;J?k=J(u,f,y,d):k=t.fontWeight;var R;rt?R=rt(u,f,y,d):R=t.classes,o.forEach(function(_){if(_.getContext){var C=_.getContext("2d"),v=n.mu;C.save(),C.scale(1/v,1/v),C.font=k+" "+(y*v).toString(10)+"px "+t.fontFamily,C.fillStyle=p,C.translate((e+n.gw/2)*a*v,(i+n.gh/2)*a*v),m!==0&&C.rotate(-m),C.textBaseline="middle",C.fillText(u,n.fillTextOffsetX*v,(n.fillTextOffsetY+y*.5)*v),C.restore()}else{var T=document.createElement("span"),E="";E="rotate("+-m/Math.PI*180+"deg) ",n.mu!==1&&(E+="translateX(-"+n.fillTextWidth/4+"px) scale("+1/n.mu+")");var z={position:"absolute",display:"block",font:k+" "+y*n.mu+"px "+t.fontFamily,left:(e+n.gw/2)*a+n.fillTextOffsetX+"px",top:(i+n.gh/2)*a+n.fillTextOffsetY+"px",width:n.fillTextWidth+"px",height:n.fillTextHeight+"px",lineHeight:y+"px",whiteSpace:"nowrap",transform:E,webkitTransform:E,msTransform:E,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};p&&(z.color=p),T.textContent=u;for(var Z in z)T.style[Z]=z[Z];if(S)for(var N in S)T.setAttribute(N,S[N]);R&&(T.className+=R),_.appendChild(T)}})},Rt=function(e,i,n,u,f){if(!(e>=I||i>=F||e<0||i<0)){if(b[e][i]=!1,n){var w=o[0].getContext("2d");w.fillRect(e*a,i*a,M,M)}it&&(Q[e][i]={item:f,dimension:u})}},Pt=function(e,i,n,u,f,w){var c=f.occupied,m=t.drawMask,S;m&&(S=o[0].getContext("2d"),S.save(),S.fillStyle=t.maskColor);var d;if(it){var y=f.bounds;d={x:(e+y[3])*a,y:(i+y[0])*a,w:(y[1]-y[3]+1)*a,h:(y[2]-y[0]+1)*a}}for(var p=c.length;p--;){var k=e+c[p][0],R=i+c[p][1];k>=I||R>=F||k<0||R<0||Rt(k,R,m,d,w)}m&&S.restore()},Ot=function g(e,i){if(i>20)return null;var n,u,f;Array.isArray(e)?(n=e[0],u=e[1]):(n=e.word,u=e.weight,f=e.attributes);var w=Ct(),c=Tt(e),m=Et(n,u,w,c);if(!m||ft())return!1;if(!t.drawOutOfBound&&!t.shrinkToFit){var S=m.bounds;if(S[1]-S[3]+1>I||S[2]-S[0]+1>F)return!1}for(var d=A+1,y=function(_){var C=Math.floor(_[0]-m.gw/2),v=Math.floor(_[1]-m.gh/2),T=m.gw,E=m.gh;return Ft(C,v,T,E,m.occupied)?(At(C,v,m,n,u,A-d,_[2],w,f,c),Pt(C,v,T,E,m,e),{gx:C,gy:v,rot:w,info:m}):!1};d--;){var p=kt(A-d);t.shuffle&&(p=[].concat(p),Mt(p));for(var k=0;k<p.length;k++){var R=y(p[k]);if(R)return R}}return t.shrinkToFit?(Array.isArray(e)?e[1]=e[1]*3/4:e.weight=e.weight*3/4,g(e,i+1)):null},K=function(e,i,n){if(i)return!o.some(function(u){var f=new CustomEvent(e,{detail:n||{}});return!u.dispatchEvent(f)},this);o.forEach(function(u){var f=new CustomEvent(e,{detail:n||{}});u.dispatchEvent(f)},this)},Wt=function(){var e=o[0];if(e.getContext)I=Math.ceil(e.width/a),F=Math.ceil(e.height/a);else{var i=e.getBoundingClientRect();I=Math.ceil(i.width/a),F=Math.ceil(i.height/a)}if(K("wordcloudstart",!0)){G=t.origin?[t.origin[0]/a,t.origin[1]/a]:[I/2,F/2],A=Math.floor(Math.sqrt(I*I+F*F)),b=[];var n,u,f;if(!e.getContext||t.clearCanvas)for(o.forEach(function(v){if(v.getContext){var T=v.getContext("2d");T.fillStyle=t.backgroundColor,T.clearRect(0,0,I*(a+1),F*(a+1)),T.fillRect(0,0,I*(a+1),F*(a+1))}else v.textContent="",v.style.backgroundColor=t.backgroundColor,v.style.position="relative"}),n=I;n--;)for(b[n]=[],u=F;u--;)b[n][u]=!0;else{var w=document.createElement("canvas").getContext("2d");w.fillStyle=t.backgroundColor,w.fillRect(0,0,1,1);var c=w.getImageData(0,0,1,1).data,m=e.getContext("2d").getImageData(0,0,I*a,F*a).data;n=I;for(var S,d;n--;)for(b[n]=[],u=F;u--;){d=a;t:for(;d--;)for(S=a;S--;)for(f=4;f--;)if(m[((u*a+d)*I*a+(n*a+S))*4+f]!==c[f]){b[n][u]=!1;break t}b[n][u]!==!1&&(b[n][u]=!0)}m=w=c=void 0}if(t.hover||t.click){for(it=!0,n=I+1;n--;)Q[n]=[];t.hover&&e.addEventListener("mousemove",pt),t.click&&(e.addEventListener("click",ot),e.addEventListener("touchstart",ot),e.addEventListener("touchend",function(v){v.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function v(){e.removeEventListener("wordcloudstart",v),e.removeEventListener("mousemove",pt),e.removeEventListener("click",ot),nt=void 0})}f=0;var y,p,k=!0;t.layoutAnimation?t.wait!==0?(y=window.setTimeout,p=window.clearTimeout):(y=window.setImmediate,p=window.clearImmediate):(y=function(v){v()},p=function(){k=!1});var R=function(T,E){o.forEach(function(z){z.addEventListener(T,E)},this)},_=function(T,E){o.forEach(function(z){z.removeEventListener(T,E)},this)},C=function v(){_("wordcloudstart",v),p(j[l])};R("wordcloudstart",C),j[l]=(t.layoutAnimation?y:setTimeout)(function v(){if(k){if(f>=t.list.length){p(j[l]),K("wordcloudstop",!1),_("wordcloudstart",C),delete j[l];return}D=new Date().getTime();var T=Ot(t.list[f],0),E=!K("wordclouddrawn",!0,{item:t.list[f],drawn:T});if(ft()||E){p(j[l]),t.abort(),K("wordcloudabort",!1),K("wordcloudstop",!1),_("wordcloudstart",C);return}f++,j[l]=y(v,t.wait)}},t.wait)}};Wt()};at.isSupported=tt,at.minFontSize=et;const gt=at;if(!gt.isSupported)throw new Error("Sorry your browser not support wordCloud");function bt(s){for(var o=s.getContext("2d"),r=o.getImageData(0,0,s.width,s.height),l=o.createImageData(r),t=0,x=0,h=0;h<r.data.length;h+=4){var a=r.data[h+3];if(a>128){var M=r.data[h]+r.data[h+1]+r.data[h+2];t+=M,++x}}for(var O=t/x,h=0;h<r.data.length;h+=4){var M=r.data[h]+r.data[h+1]+r.data[h+2],a=r.data[h+3];a<128||M>O?(l.data[h]=0,l.data[h+1]=0,l.data[h+2]=0,l.data[h+3]=0):(l.data[h]=255,l.data[h+1]=255,l.data[h+2]=255,l.data[h+3]=255)}o.putImageData(l,0,0)}P.registerLayout(function(s,o){s.eachSeriesByType("wordCloud",function(r){var l=P.helper.getLayoutRect(r.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),t=r.get("keepAspect"),x=r.get("maskImage"),h=x?x.width/x.height:1;t&&It(l,h);var a=r.getData(),M=document.createElement("canvas");M.width=l.width,M.height=l.height;var O=M.getContext("2d");if(x)try{O.drawImage(x,0,0,M.width,M.height),bt(M)}catch(A){console.error("Invalid mask image"),console.error(A.toString())}var B=r.get("sizeRange"),H=r.get("rotationRange"),b=a.getDataExtent("value"),I=Math.PI/180,F=r.get("gridSize");gt(M,{list:a.mapArray("value",function(A,D){var q=a.getItemModel(D);return[a.getName(D),q.get("textStyle.fontSize",!0)||P.number.linearMap(A,b,B),D]}).sort(function(A,D){return D[1]-A[1]}),fontFamily:r.get("textStyle.fontFamily")||r.get("emphasis.textStyle.fontFamily")||s.get("textStyle.fontFamily"),fontWeight:r.get("textStyle.fontWeight")||r.get("emphasis.textStyle.fontWeight")||s.get("textStyle.fontWeight"),gridSize:F,ellipticity:l.height/l.width,minRotation:H[0]*I,maxRotation:H[1]*I,clearCanvas:!x,rotateRatio:1,rotationStep:r.get("rotationStep")*I,drawOutOfBound:r.get("drawOutOfBound"),shrinkToFit:r.get("shrinkToFit"),layoutAnimation:r.get("layoutAnimation"),shuffle:!1,shape:r.get("shape")});function G(A){var D=A.detail.item;A.detail.drawn&&r.layoutInstance.ondraw&&(A.detail.drawn.gx+=l.x/F,A.detail.drawn.gy+=l.y/F,r.layoutInstance.ondraw(D[0],D[1],D[2],A.detail.drawn))}M.addEventListener("wordclouddrawn",G),r.layoutInstance&&r.layoutInstance.dispose(),r.layoutInstance={ondraw:null,dispose:function(){M.removeEventListener("wordclouddrawn",G),M.addEventListener("wordclouddrawn",function(A){A.preventDefault()})}}})}),P.registerPreprocessor(function(s){var o=(s||{}).series;!P.util.isArray(o)&&(o=o?[o]:[]);var r=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];P.util.each(o,function(t){if(t&&t.type==="wordCloud"){var x=t.textStyle||{};l(x.normal),l(x.emphasis)}});function l(t){t&&P.util.each(r,function(x){t.hasOwnProperty(x)&&(t["text"+P.format.capitalFirst(x)]=t[x])})}});function It(s,o){var r=s.width,l=s.height;r>l*o?(s.x+=(r-l*o)/2,s.width=l*o):(s.y+=(l-r/o)/2,s.height=r/o)}},"echarts/lib/echarts":L=>{L.exports=dt}},U={};function $(L){if(U[L])return U[L].exports;var V=U[L]={exports:{}};return ct[L](V,V.exports,$),V.exports}return $.r=L=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})},$("./index.js")})()})}}]);
